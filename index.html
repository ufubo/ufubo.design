<script>
        // Kurşun geçirmez resim yolu bulucu
        const getImg = (url) => {
            if (!url) return '';
            if (url.startsWith('/uploads')) return '.' + url;
            if (url.startsWith('uploads')) return './' + url;
            return url;
        };

        async function loadProjects() {
            const grid = document.getElementById('project-grid');
            try {
                const repoUrl = 'https://api.github.com/repos/ufubo/ufubo.design/contents/data/projects';
                const response = await fetch(repoUrl);
                const files = await response.json();
                grid.innerHTML = '';

                for (const file of files) {
                    if (file.name.endsWith('.json')) {
                        const projRes = await fetch(file.download_url);
                        const project = await projRes.json();
                        const slug = file.name.replace('.json', '');

                        const card = `
                            <a href="product.html?id=${slug}" class="pillar-card relative block h-[28rem] group cursor-pointer bg-zinc-900">
                                <div class="pillar-img-wrapper filter grayscale group-hover:grayscale-0">
                                    <img src="${getImg(project.hero_image)}" alt="${project.title}" class="pillar-img">
                                </div>
                                <div class="absolute inset-0 bg-gradient-to-t from-zinc-950 via-zinc-950/40 to-transparent opacity-90 group-hover:opacity-70 transition-opacity duration-500 rounded-inherit"></div>
                                <div class="absolute bottom-0 left-0 p-8 w-full z-10">
                                    <h3 class="text-3xl font-bold text-white mb-2 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 ease-out">${project.title}</h3>
                                    <p class="text-zinc-400 font-medium transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 ease-out delay-75">
                                        ${project.product_type} <span class="text-zinc-600 mx-2">|</span> ${project.year}
                                    </p>
                                </div>
                            </a>
                        `;
                        grid.innerHTML += card;
                    }
                }
            } catch (error) {
                console.error("Projeler yüklenemedi:", error);
            }
        }
        loadProjects();
    </script>
